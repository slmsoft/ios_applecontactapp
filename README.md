# Contacts Management SPA

Single Page Application для управления контактами с полным набором CRUD операций, поиском в реальном времени и валидацией форм.

## Демо

**Живое приложение:** [https://ios-applecontactapp.vercel.app/](https://ios-applecontactapp.vercel.app/)

## Инструкция по запуску

### Предварительные требования

- Node.js 18+ и npm
- Современный браузер с поддержкой ES6+

### Установка и запуск

1. **Клонируйте репозиторий:**
```bash
git clone <repository-url>
cd test
```

2. **Установите зависимости:**
```bash
npm install
```

3. **Запустите JSON Server (API) в первом терминале:**
```bash
npm run server
```
API сервер будет доступен по адресу: `http://localhost:3002`

4. **Запустите dev сервер во втором терминале:**
```bash
npm run dev
```
Приложение будет доступно по адресу: `http://localhost:3001`

5. **Откройте браузер:**
Приложение автоматически откроется в браузере, или перейдите по адресу `http://localhost:3001`

### Production сборка

```bash
npm run build
```

Production файлы будут в директории `build/`.

## Краткое описание архитектуры

### Технологический стек

- **React 18.3+** с TypeScript для типобезопасности
- **Redux Toolkit** с async thunks для управления состоянием
- **React Router v6** с HashRouter для навигации
- **Vite 6.3+** для быстрой разработки и сборки
- **Tailwind CSS** для стилизации
- **Shadcn UI** компоненты на базе Radix UI
- **json-server** для эмуляции REST API

### Архитектурные паттерны

Проект следует модульной архитектуре с четким разделением ответственности:

```
src/
├── components/     # Переиспользуемые UI компоненты
│   └── ui/        # Базовые компоненты дизайн-системы
├── pages/         # Компоненты страниц уровня маршрутов
├── store/         # Redux store и slices
├── services/      # Слой API и бизнес-логика
├── types/         # Определения типов TypeScript
└── styles/        # Глобальные стили
```

**Слои приложения:**

1. **Слой представления** - Компоненты обрабатывают только рендеринг UI
2. **Слой бизнес-логики** - Redux Thunks инкапсулируют асинхронные операции
3. **Слой данных** - Абстракция сервисов для API вызовов

### Управление состоянием

- **Redux Toolkit** для централизованного управления состоянием
- **Async Thunks** для асинхронных операций (загрузка, создание, обновление, удаление контактов)
- Нормализованная структура данных для эффективных обновлений
- Обработка состояний загрузки, ошибок и пустых состояний

### Структура данных

Mock данные находятся в `mock/contacts.json` и используются json-server для эмуляции REST API.

## Построение маршрута

Маршрутизация реализована с использованием **React Router v6** с **HashRouter**.

### Реализация маршрутизации

В файле `src/App.tsx` настроена конфигурация маршрутов:

```tsx
import { HashRouter as Router, Routes, Route } from "react-router-dom";

<Router>
  <Routes>
    <Route path="/" element={<ContactsPage />} />
    <Route path="/add" element={<AddContactPage />} />
    <Route path="/edit/:id" element={<EditContactPage />} />
  </Routes>
</Router>
```

### Особенности реализации

1. **HashRouter** - Используется для обеспечения корректной работы SPA на статических хостингах (Vercel, Netlify). Маршруты имеют формат `/#/add`, `/#/edit/1`

2. **Динамические маршруты** - Маршрут `/edit/:id` использует параметр `id` для идентификации редактируемого контакта:
   ```tsx
   const { id } = useParams<{ id: string }>();
   ```

3. **Навигация** - Переход между маршрутами осуществляется через хук `useNavigate()`:
   ```tsx
   const navigate = useNavigate();
   navigate("/add"); // Переход на страницу добавления
   navigate(`/edit/${contactId}`); // Переход на страницу редактирования
   ```

### Маршруты приложения

- `/` - Главная страница со списком контактов и поиском
- `/add` - Форма создания нового контакта
- `/edit/:id` - Форма редактирования существующего контакта (где `:id` - идентификатор контакта)

### Преимущества HashRouter

- Работает на статических хостингах без дополнительной конфигурации сервера
- Не требует настройки редиректов на сервере
- Все маршруты обрабатываются клиентским JavaScript

## Структура проекта

```
/
├── src/                    # Исходный код приложения
│   ├── components/         # UI компоненты
│   ├── pages/             # Страницы приложения
│   ├── store/             # Redux store
│   ├── services/          # API сервисы
│   ├── types/             # TypeScript типы
│   └── styles/            # Глобальные стили
├── mock/                  # Mock данные
│   └── contacts.json      # JSON данные для json-server
├── build/                 # Production сборка
├── package.json           # Зависимости и скрипты
├── vite.config.ts         # Конфигурация Vite
├── vercel.json            # Конфигурация Vercel
└── README.md              # Документация
```

## Основной функционал

- CRUD операции (создание, чтение, обновление, удаление контактов)
- Поиск в реальном времени
- Валидация форм
- Обработка ошибок и состояний загрузки
- Адаптивный дизайн
- Toast уведомления

## Лицензия

Проект создан в рамках технического задания.

## Автор

Salim Haitov
